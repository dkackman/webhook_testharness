extends layout

include mixins/card
include mixins/form
include mixins/alert

block content
  .container-fluid
    .d-flex.align-items-center.justify-content-between.mb-3
      h2.mb-0= title
      .d-flex.gap-2.align-items-center
        span.badge.text-bg-secondary#webhook-status Not registered

    .row.g-3
      //- Live Events Panel
      .col-lg-8
        .card
          +cardHeader('Live Webhook Events')
            button.btn.btn-sm.btn-outline-secondary(type="button" onclick="WebhookApp.clearEvents()") Clear
          +cardBody.p-0
            #webhook-events.log-panel.font-monospace.small No webhook events yet

      //- Setup Panel
      .col-lg-4
        //- Webhook Setup Card
        .card.mb-3
          +cardHeaderSimple('Webhook Setup')
          +cardBody
            +formInput('Webhook Secret (optional)', 'secret-input', 'Enter secret for HMAC verification', 'If provided, webhooks will be signed with HMAC-SHA256.')

            +buttonGroup.mt-3
              button#register-btn.btn.btn-primary(type="button" onclick="WebhookApp.register()") Register
              button#unregister-btn.btn.btn-outline-danger(type="button" onclick="WebhookApp.unregister()" style="display: none;") Unregister

            +statusAlert('verification-status', 'HMAC Verification', 'verification-enabled', 'Disabled', 'secondary').mt-3

        //- Registration Response Card
        .card
          +cardHeaderSimple('Registration Response')
          +cardBody.p-0
            pre#response-display.log-panel-sm.font-monospace.small.m-0.p-3 Hook not registered

  script(src='/javascripts/app.js')
